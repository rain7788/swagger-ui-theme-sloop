<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="%(DocumentTitle)">
    <title>%(DocumentTitle)</title>
    <link rel="icon" type="image/svg+xml" href="./favicon.svg">
    <link rel="stylesheet" href="./swagger-sloop.css?v=%(Version)">
</head>
<body>
    <div id="swagger-sloop-app">
        <!-- Sidebar (Art Design Pro Style) -->
        <aside class="art-sidebar" id="sidebar">
            <div class="art-sidebar-header">
                <div class="art-logo">
                    <svg class="art-logo-icon" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 4V24" stroke="var(--art-primary)" stroke-width="2" stroke-linecap="round"/>
                        <path d="M16 6C16 6 24 10 24 16C24 16 20 18 16 18" fill="var(--art-primary)" opacity="0.15"/>
                        <path d="M16 6C16 6 24 10 24 16C24 16 20 18 16 18" stroke="var(--art-primary)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M6 26C6 26 10 22 16 22C22 22 26 26 26 26" stroke="var(--art-primary)" stroke-width="2" stroke-linecap="round"/>
                        <path d="M8 28H24" stroke="var(--art-primary)" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <span class="art-logo-text">%(DocumentTitle)</span>
                </div>
            </div>
            <div class="art-sidebar-search">
                <div class="art-search-input-wrapper">
                    <svg class="art-search-input-icon" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor"/></svg>
                    <input type="text" id="sidebarSearch" placeholder="筛选接口..." class="art-sidebar-input">
                </div>
            </div>
            <nav class="art-nav" id="apiNav">
                <!-- Dynamic API list -->
                <div class="art-nav-loading">
                    <div class="art-spinner"></div>
                    <span>加载中...</span>
                </div>
            </nav>
        </aside>

        <!-- Main Area -->
        <div class="art-main-area">
            <!-- Top Header (Layer 1) -->
            <header class="art-header">
                <div class="art-header-left">
                    <button class="art-icon-btn" id="sidebarToggle" title="收起/展开菜单">
                        <svg class="art-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M3 4H21V6H3V4ZM3 11H15V13H3V11ZM3 18H21V20H3V18Z"/></svg>
                    </button>
                    <button class="art-icon-btn" id="refreshBtn" title="刷新接口">
                        <svg class="art-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"/></svg>
                    </button>
                </div>
                <div class="art-header-right">
                    <div class="art-group-selector" id="groupSelector">
                        <button class="art-group-btn" id="groupToggle">
                            <span id="currentGroupName">选择分组</span>
                            <svg class="art-icon" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5H7z" fill="currentColor"/></svg>
                        </button>
                        <div class="art-group-dropdown" id="groupDropdown">
                            <!-- Dynamic groups -->
                        </div>
                    </div>
                    <button class="art-search-btn" id="searchBtn" title="搜索 (Ctrl+K)">
                        <svg class="art-icon" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor"/></svg>
                        <span class="art-search-text">搜索</span>
                        <span class="art-search-hint">⌘K</span>
                    </button>
                    <button class="art-icon-btn" id="globalParamsBtnHeader" title="全局参数">
                        <svg class="art-icon" viewBox="0 0 24 24"><path d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" fill="currentColor"/></svg>
                    </button>
                    <button class="art-icon-btn" id="themeToggle" title="切换主题">
                        <svg class="art-icon art-icon-sun" viewBox="0 0 24 24"><path d="M12 7a5 5 0 100 10 5 5 0 000-10zm0-5a1 1 0 011 1v2a1 1 0 11-2 0V3a1 1 0 011-1zm0 18a1 1 0 011 1v2a1 1 0 11-2 0v-2a1 1 0 011-1zM4.22 4.22a1 1 0 011.42 0l1.41 1.41a1 1 0 11-1.41 1.42L4.22 5.64a1 1 0 010-1.42zm14.14 14.14a1 1 0 011.42 0l1.41 1.41a1 1 0 11-1.41 1.42l-1.42-1.41a1 1 0 010-1.42zM2 12a1 1 0 011-1h2a1 1 0 110 2H3a1 1 0 01-1-1zm18 0a1 1 0 011-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zM5.64 18.36a1 1 0 010 1.42l-1.41 1.41a1 1 0 11-1.42-1.41l1.41-1.42a1 1 0 011.42 0zm12.72-12.72a1 1 0 010 1.42l-1.41 1.41a1 1 0 11-1.42-1.41l1.41-1.42a1 1 0 011.42 0z" fill="currentColor"/></svg>
                        <svg class="art-icon art-icon-moon" viewBox="0 0 24 24"><path d="M12 3a9 9 0 109 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 01-4.4 2.26 5.403 5.403 0 01-3.14-9.8c-.44-.06-.9-.1-1.36-.1z" fill="currentColor"/></svg>
                    </button>
                </div>
            </header>

            <!-- Tabs Bar (Layer 2) -->
            <div class="art-tabs-bar-wrapper">
                <div class="art-tabs-bar" id="tabsBar">
                    <!-- Dynamic tabs will be inserted here -->
                </div>
            </div>

            <!-- Content Area -->
            <main class="art-content" id="content">
                <div class="art-welcome" id="welcomePanel">
                    <div class="art-welcome-icon">
                        <svg viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M60 15V90" stroke="var(--art-primary)" stroke-width="6" stroke-linecap="round"/>
                            <path d="M60 22C60 22 92 38 92 60C92 60 76 68 60 68" fill="var(--art-primary)" opacity="0.12"/>
                            <path d="M60 22C60 22 92 38 92 60C92 60 76 68 60 68" stroke="var(--art-primary)" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22 98C22 98 38 82 60 82C82 82 98 98 98 98" stroke="var(--art-primary)" stroke-width="6" stroke-linecap="round"/>
                            <path d="M30 108H90" stroke="var(--art-primary)" stroke-width="6" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <h1 class="art-welcome-title">欢迎使用 Swagger Sloop</h1>
                    <p class="art-welcome-desc">请从左侧选择一个接口开始调试，或使用 <kbd>Ctrl</kbd>+<kbd>K</kbd> 快速搜索</p>
                    <div class="art-welcome-stats" id="welcomeStats">
                        <!-- Dynamic stats -->
                    </div>
                </div>

                <!-- Tab Panels Container -->
                <div class="art-tab-panels" id="tabPanels">
                    <!-- Dynamic tab panels -->
                </div>
            </main>
        </div>

        <!-- Search Modal -->
        <div class="art-modal art-search-modal" id="searchModal">
            <div class="art-modal-backdrop" onclick="SwaggerSloop.closeSearch()"></div>
            <div class="art-search-dialog">
                <div class="art-search-header">
                    <svg class="art-icon" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor"/></svg>
                    <input type="text" id="globalSearchInput" placeholder="搜索接口..." autofocus>
                    <kbd>ESC</kbd>
                </div>
                <div class="art-search-results" id="searchResults">
                    <div class="art-search-empty">输入关键词搜索接口</div>
                </div>
            </div>
        </div>

        <!-- Global Params Modal -->
        <div class="art-modal art-params-modal" id="globalParamsModal">
            <div class="art-modal-backdrop" onclick="SwaggerSloop.closeGlobalParams()"></div>
            <div class="art-params-dialog">
                <div class="art-dialog-header">
                    <h3>全局参数设置</h3>
                    <button class="art-dialog-close" onclick="SwaggerSloop.closeGlobalParams()">
                        <svg class="art-icon" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z" fill="currentColor"/></svg>
                    </button>
                </div>
                <div class="art-dialog-body">
                    <div class="art-params-hint">
                        在此添加全局参数，调试时会自动带上这些参数（可在调试页面临时修改）
                    </div>
                    <div class="art-params-actions">
                        <button class="art-btn art-btn-primary" onclick="SwaggerSloop.showAddParam()">
                            <svg class="art-icon" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" fill="currentColor"/></svg>
                            添加参数
                        </button>
                    </div>
                    <div class="art-params-list" id="globalParamsList">
                        <!-- Dynamic params list -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Add/Edit Param Modal -->
        <div class="art-modal art-param-form-modal" id="paramFormModal">
            <div class="art-modal-backdrop" onclick="SwaggerSloop.closeParamForm()"></div>
            <div class="art-param-form-dialog">
                <div class="art-dialog-header">
                    <h3 id="paramFormTitle">新增参数</h3>
                    <button class="art-dialog-close" onclick="SwaggerSloop.closeParamForm()">
                        <svg class="art-icon" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z" fill="currentColor"/></svg>
                    </button>
                </div>
                <div class="art-dialog-body">
                    <div class="art-form-group">
                        <label><span class="art-required">*</span> 参数名称</label>
                        <input type="text" id="paramName" class="art-input" placeholder="请输入参数名称">
                    </div>
                    <div class="art-form-group">
                        <label><span class="art-required">*</span> 参数值</label>
                        <input type="text" id="paramValue" class="art-input" placeholder="请输入参数值">
                    </div>
                    <div class="art-form-group">
                        <label><span class="art-required">*</span> 参数类型</label>
                        <select id="paramType" class="art-input art-select">
                            <option value="header">header</option>
                            <option value="query">query</option>
                        </select>
                    </div>
                </div>
                <div class="art-dialog-footer">
                    <button class="art-btn art-btn-secondary" onclick="SwaggerSloop.closeParamForm()">取 消</button>
                    <button class="art-btn art-btn-primary" onclick="SwaggerSloop.saveParam()">确 定</button>
                </div>
            </div>
        </div>

        <!-- Toast Container -->
        <div class="art-toast-container" id="toastContainer"></div>
    </div>

    <script>
        // Configuration injected by server
        window.SwaggerSloopConfig = {
            urls: %(Urls),
            primaryColor: '%(PrimaryColor)',
            defaultTheme: '%(DefaultTheme)',
            documentTitle: '%(DocumentTitle)',
            enableSearch: %(EnableSearch),
            enableCodeCopy: %(EnableCodeCopy)
        };
    </script>
    <script src="./swagger-sloop.js?v=%(Version)"></script>
</body>
</html>
